{"version":3,"sources":["bundle.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_simulation","_simulation2","obj","__esModule","default","$","createPulse","x","y","pulse","svg","append","attr","style","transition","duration","ease","d3","easeCubicOut","window","setTimeout","interrupt","remove","pulseDuration","updateSimControls","isRunning","removeClass","addClass","reset","sliderPertX","slider","sliderPertY","sliderSpeed","sliderDamp","showOverlay","hideOverlay","on","event","detail","nid","formatter","value","tooltip","data","setParamSpeed","newValue","setParamDamp","setParamPertX","setParamPertY","ev","stop","start","preventDefault","randomState","target","hasClass","aboutID","./simulation","2","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Simulation","this","startSim","defaultIsRunning","stopSim","resetNetwork","base_frequency","setParameters","damp_modifier","pert","Math","PI","_randomState","apply","arguments","toString"],"mappings":"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","file":"bundle.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _simulation = require('./simulation');\n\nvar _simulation2 = _interopRequireDefault(_simulation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(function () {\n  /**\n   * Create feedback pulse when nodes are clicked\n   */\n\n  function createPulse(x, y) {\n    var pulseDuration = 1000;\n    var pulse = svg.append('circle').attr('r', 0).attr('cx', x).attr('cy', y).style('pointer-events', 'none').style('fill', 'rgba(240, 85, 42, 1)'); // #f0552a\n    pulse.transition().duration(pulseDuration).ease(d3.easeCubicOut).attr('r', 100).style('fill', 'rgba(240, 85, 42, 0)'); // #f0552a\n    window.setTimeout(function () {\n      pulse.interrupt().remove();\n    }, pulseDuration * 1.2);\n  }\n\n  svg.on('nodePerturbed', function () {\n    createPulse(x[d3.event.detail.nid], y[d3.event.detail.nid]);\n  });\n\n  /**\n   * Setup sliders\n   */\n  var sliderSpeed = $('.slider#speed_val').slider({\n    formatter: function formatter(value) {\n      return value + ' Hz';\n    },\n    tooltip: 'always'\n  });\n  var sliderDamp = $('.slider#damp_val').slider({\n    formatter: function formatter(value) {\n      return value;\n    },\n    tooltip: 'always'\n  });\n\n  var sliderPertX = $('.slider#xpert_val').slider({\n    formatter: function formatter(value) {\n      if (value === 1) {\n        return 'π';\n      } else if (value === -1) {\n        return '-π';\n      } else if (value === 0) {\n        return '0';\n      }\n      return value + ' \\u03C0';\n    },\n    tooltip: 'always'\n  });\n  var sliderPertY = $('.slider#ypert_val').slider({\n    formatter: function formatter(value) {\n      return value + ' Hz';\n    },\n    tooltip: 'always'\n  });\n\n  sliderSpeed.slider('on', 'change', function (data) {\n    _simulation2.default.setParamSpeed(data.newValue);\n  });\n\n  sliderDamp.slider('on', 'change', function (data) {\n    _simulation2.default.setParamDamp(data.newValue);\n  });\n\n  sliderPertX.slider('on', 'change', function (data) {\n    _simulation2.default.setParamPertX(data.newValue);\n  });\n\n  sliderPertY.slider('on', 'change', function (data) {\n    _simulation2.default.setParamPertY(data.newValue);\n  });\n\n  /**\n   * Sim controls\n   *\n   */\n  function updateSimControls() {\n    if (_simulation2.default.isRunning()) {\n      $('body').removeClass('sim-off').addClass('sim-on');\n    } else {\n      $('body').removeClass('sim-on').addClass('sim-off');\n    }\n  }\n\n  function reset() {\n    sliderPertX.slider('setValue', 0.1, true, true);\n    sliderPertY.slider('setValue', 0.1, true, true);\n    sliderSpeed.slider('setValue', 42, true, true);\n    sliderDamp.slider('setValue', 1, true, true);\n    _simulation2.default.reset();\n  }\n\n  $('[data-control=play-pause]').on('click', function (ev) {\n    if (_simulation2.default.isRunning()) {\n      _simulation2.default.stop();\n    } else {\n      _simulation2.default.start();\n    }\n    updateSimControls();\n    ev.preventDefault();\n  });\n\n  $('[data-control=reset]').on('click', function (ev) {\n    reset();\n    ev.preventDefault();\n  });\n\n  $('[data-control=random]').on('click', function (ev) {\n    _simulation2.default.randomState();\n    ev.preventDefault();\n  });\n\n  sliderPertX.slider('setValue', 0.1, true, true);\n  sliderPertY.slider('setValue', 0.1, true, true);\n  _simulation2.default.setParamPertX(0.1);\n  _simulation2.default.setParamPertY(0.1);\n  updateSimControls();\n\n  /**\n   * \"About\"/Learn more buttons\n   */\n  $('.button-about').on('click', function (ev) {\n    if (!$(ev.target).hasClass('selected')) {\n      $('.button-about').removeClass('selected');\n      $(ev.target).addClass('selected');\n      $('.about-text').removeClass('visible');\n      var aboutID = $(ev.target).attr('data-about');\n      $('.about-text#' + aboutID).addClass('visible');\n    }\n    ev.preventDefault();\n  });\n\n  /**\n   * Overlay\n   */\n  function showOverlay() {\n    $('.overlay-info').addClass('overlay-visible');\n  }\n\n  function hideOverlay() {\n    $('.overlay-info').removeClass('overlay-visible');\n  }\n\n  $('.overlay').on('click', function (ev) {\n    hideOverlay();\n    ev.preventDefault();\n  });\n\n  $('.overlay-close').on('click', function (ev) {\n    hideOverlay();\n    ev.preventDefault();\n  });\n\n  $('[data-control=info]').on('click', function (ev) {\n    showOverlay();\n    ev.preventDefault();\n  });\n\n  /**\n   * Disable dragging of buttons\n   */\n  $('.btn, .button').on('dragstart', function () {\n    return false;\n  });\n}); /* global svg, d3, clicked, x, y */\n\n},{\"./simulation\":2}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* global simWorker, startSim, stopSim, resetNetwork, setParameters, randomState */\n/* global base_frequency, damp_modifier, pert */\n\n/**\n * Interface for encapsulating global/dirty calls to the original simulation code\n * without modifying it.\n *\n * NOTE: Right now the simulation produces no events if it's stopped and provides no way\n * to know if it's running, both of which would be necessary to correctly implement this\n * control. However, the internal variable that indicates if it's running is only modified\n * through calling the stop/start functions that are only called through the original\n * buttons being replaced. But let's be careful with that...\n */\nvar Simulation = function () {\n  function Simulation() {\n    _classCallCheck(this, Simulation);\n  }\n\n  _createClass(Simulation, null, [{\n    key: \"start\",\n    value: function start() {\n      startSim();\n      Simulation.defaultIsRunning = true;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      stopSim();\n      Simulation.defaultIsRunning = false;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      resetNetwork();\n    }\n  }, {\n    key: \"isRunning\",\n    value: function isRunning() {\n      return Simulation.defaultIsRunning;\n    }\n  }, {\n    key: \"setParamSpeed\",\n    value: function setParamSpeed(value) {\n      base_frequency = 50. - +value; // eslint-disable-line\n      setParameters();\n    }\n  }, {\n    key: \"setParamDamp\",\n    value: function setParamDamp(value) {\n      damp_modifier = +value; // eslint-disable-line\n      setParameters();\n    }\n  }, {\n    key: \"setParamPertX\",\n    value: function setParamPertX(value) {\n      pert.x = +value * Math.PI;\n    }\n  }, {\n    key: \"setParamPertY\",\n    value: function setParamPertY(value) {\n      pert.y = +value;\n    }\n  }, {\n    key: \"randomState\",\n    value: function (_randomState) {\n      function randomState() {\n        return _randomState.apply(this, arguments);\n      }\n\n      randomState.toString = function () {\n        return _randomState.toString();\n      };\n\n      return randomState;\n    }(function () {\n      randomState();\n    })\n  }]);\n\n  return Simulation;\n}();\n\n// Simulation starts on\n\n\nexports.default = Simulation;\nSimulation.defaultIsRunning = true;\n\n},{}]},{},[1]);\n"]}